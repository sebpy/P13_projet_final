{% extends 'layouts/base.html' %}
{% block title %}Configuration{% endblock %}
{% block body %}
    <!--The menu is handled with a list of the pages-->
    <div class="container-fluid">
    <!-- Liste rigs-->
        <form action="/_save_conf" method="post">
            <section class="row row-sm mg-b-30">
                <div class="col-lg-10">
                    <legend>Configuration</legend>
                    {% if error %}
                        <p class="error"><strong>Erreur : </strong>{{ error }}</p>
                    {% endif %}
                    {% with messages = get_flashed_messages() %}
                      {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-success alert-dismissible fade show save-conf" role="alert">
                              <strong>Sauvegardé!</strong> {{ message }}
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                        {% endfor %}
                      {% endif %}
                    {% endwith %}
                    <div class="form-group">
                      <label for="api_key">Clé API : </label>
                      <input id="api_key" name="api_key" type="text" class="form-control" value="{{ API_KEY }}" placeholder="Clé API EMOS..." required>
                    </div>
                    <div class="form-group">
                      <label for="type">Affichage index : </label>
                      <select id="type" name="type" class="form-control">
                        <option value="0" {% if type=="0" %} selected="selected"{% endif %}>Blocks</option>
                        <option value="1" {% if type=="1" %} selected="selected"{% endif %}>Liste</option>
                      </select>
                    </div>

                    <div class="form-group">
                        <label for="type">Durée rétention statistiques:
                            <i class="fas fa-question-circle"></i>
                            <span>Définis le temps pour le calcul de disponibinité</span>
                        </label>
                      <select id="range" name="range" class="form-control">
                        <option value="10080" {% if day=='10080' %} selected="selected"{% endif %}>7 jours </option>
                        <option value="20160" {% if day=='20160' %} selected="selected"{% endif %}>14 jours</option>
                        <option value="42300" {% if day=='42300' %} selected="selected"{% endif %}>30 jours</option>
                      </select>
                    </div>

                </div>
                <div class="col-lg-2 cfg_show_block">
                  <legend>Affichage blocks</legend>
                     <div class="custom-control custom-checkbox">
                       <input type="checkbox" class="custom-control-input" id="nbgpu" name="nbgpu" {{ nbgpu }} >
                       <label class="custom-control-label" for="nbgpu">Afficher le block nombre de GPUs</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                       <input type="checkbox" class="custom-control-input" id="uptime" name="uptime" {{ uptime }}>
                       <label class="custom-control-label" for="uptime">Afficher le block Uptime</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                       <input type="checkbox" class="custom-control-input" id="minetime" name="minetime" {{ minetime }}>
                       <label class="custom-control-label" for="minetime">Afficher le block temps miner</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                       <input type="checkbox" class="custom-control-input" id="hashtotal" name="hashtotal" {{ hashtotal }}>
                       <label class="custom-control-label" for="hashtotal">Afficher le block hash total</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                       <input type="checkbox" class="custom-control-input" id="pwtotal" name="pwtotal" {{ pwtotal }}>
                       <label class="custom-control-label" for="pwtotal">Afficher le block conso total</label>
                    </div>
                </div>
            </section>
            <section class="row row-sm mg-b-30">
                <div class="col-lg-10">
                    <input type="submit" class="btn btn-primary btn-conf" value="Enregistrer"><br>
                </div>
                <div class="col-lg-2 cfg_show_block">
                </div>
            </section>
    </form>
    </div>

{% endblock %}
